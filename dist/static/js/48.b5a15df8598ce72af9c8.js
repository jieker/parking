webpackJsonp([48],{1149:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(92),r=a(2);e.default={data:function(){return{yearMonth:new Date,SumTop:{month:1,year:2018,sumState:0},aliPayArr:[],cashPayArr:[],otherPayAr:[],pieMoneyArr:[],dayArr:[],pieTypeArr:[],smallPayArr:[],unionPayArr:[],weChatPayArr:[],yearMonthData:"",dateStr:[],totalMoney:[],array:[],arrayNums:[],currentPage:1,total:0,pageSize:10,listLoading:!1}},mounted:function(){this.getTableList()},methods:{exportChardeDataMonth:function(){var t=this,e={operatorId:this.Util.userInfo.id,date:this.yearMonth,option:this.SumTop.sumState},a=this.yearMonth;this.yearMonthData=this.Util.formatDate.format(a,"yyyy-MM"),e.date=this.Util.formatDate.format(a,"yyyy-MM"),this.$axios({url:n.exportChardeDataMonth,method:"get",params:e,responseType:"blob"}).then(function(e){"SUCCESS"===e.headers.code?t.Util.exportExcel(e):t.$message.error(decodeURI(e.headers.msg))})},handleSizeChange:function(t){this.page=t-1},handleCurrentChange:function(t){this.currentPage1=t,this.page=t-1},find:function(){},getTableList:function(){var t=this,e={operatorId:this.Util.userInfo.id,date:this.yearMonth,option:this.SumTop.sumState},a=this.yearMonth;this.yearMonthData=this.Util.formatDate.format(a,"yyyy-MM"),e.date=this.Util.formatDate.format(a,"yyyy-MM"),(0,n.getChargeCountMonth)(e).then(function(e){t.array=e.data.data.countByMoneys,t.arrayNums=e.data.data.countByPayNums,t.aliPayArr=e.data.data.aliPayArr,t.cashPayArr=e.data.data.cashPayArr,t.otherPayArr=e.data.data.otherPayArr,t.pieMoneyArr=e.data.data.pieMoneyArr,t.dayArr=e.data.data.dayArr,t.pieTypeArr=e.data.data.pieTypeArr,t.smallPayArr=e.data.data.smallPayArr,t.unionPayArr=e.data.data.unionPayArr,t.weChatPayArr=e.data.data.weChatPayArr,t.array&&t.array.forEach(function(e){t.dateStr.push(e.dateStr)}),t.drawLine()}).catch(function(t){console.log(t)})},drawLine:function(){var t=r.init(document.getElementById("monthSumLine")),e=["#C33531","#EFE42A","#64BD3D","#EE9201","#29AAE3","#B74AE5","#0AAF9F"],a={color:e,title:{text:this.yearMonthData.substring(0,4)+"年"+this.yearMonthData.substring(5,7)+"月收入统计图",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.pieTypeArr,bottom:40},grid:{top:70,bottom:100,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:this.dayArr},yAxis:{type:"value",name:"月收入",min:0,max:1e3,axisLabel:{formatter:"{value} 元"}},series:[{name:"微信支付",type:"line",smooth:!0,data:this.weChatPayArr},{name:"小猫支付",type:"line",smooth:!0,data:this.smallPayArr},{name:"现金支付",type:"line",smooth:!0,data:this.cashPayArr},{name:"银联支付",type:"line",smooth:!0,data:this.unionPayArr},{name:"支付宝支付",type:"line",smooth:!0,data:this.aliPayArr},{name:"其他支付",type:"line",smooth:!0,data:this.otherPayArr}]};t.setOption(a)},charMonthPay:function(){var t=document.getElementById("monthSumPie"),e=r.init(t),a={title:{text:this.yearMonthData.substring(0,4)+"年"+this.yearMonthData.substring(5,7)+"月收入统计图",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}元 ({d}%)"},legend:{bottom:10,left:"center",data:["微信支付","小猫支付","现金支付","电子优惠","纸质优惠"]},series:[{type:"pie",radius:"65%",center:["50%","50%"],data:[{value:1548,name:"微信支付"},{value:535,name:"小猫支付"},{value:510,name:"现金支付"},{value:634,name:"纸质优惠"},{value:735,name:"电子优惠"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(a)}}}},1196:function(t,e,a){e=t.exports=a(959)(),e.push([t.i,'\n/*! normalize.css v1.1.2 | MIT License | git.io/normalize */article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}button,html,input,select,textarea{font-family:sans-serif}body{margin:0}a{text-decoration:none}a:focus{outline:thin dotted}a:active,a:hover{outline:0}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em;margin:.83em 0}h3{font-size:1.17em;margin:1em 0}h4{font-size:1em;margin:1.33em 0}h5{font-size:.83em;margin:1.67em 0}h6{font-size:.67em;margin:2.33em 0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}blockquote{margin:1em 40px}dfn{font-style:italic}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark{background:#ff0;color:#000}p,pre{margin:1em 0}code,kbd,pre,samp{font-family:monospace,serif;_font-family:courier new,monospace;font-size:1em}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}q{quotes:none}q:after,q:before{content:"";content:none}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}dl,menu,ol,ul{margin:1em 0}dd{margin:0 0 0 40px}menu,ol,ul{padding:0 0 0 40px}nav ol,nav ul{list-style:none;list-style-image:none}img{border:0;-ms-interpolation-mode:bicubic;display:block}svg:not(:root){overflow:hidden}figure,form{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left:-7px}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align:middle}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}.float-left{float:left}.float-right{float:right}.clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}.clearfix{zoom:1}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-justify{text-align:justify}.text-info{color:#909399}.text-success{color:#67c23a}.text-warning{color:#e6a23c}.text-danger{color:#f56c6c}.text-blue{color:#20a0ff}.text-orange{color:#fc813b}.text-white{color:#fff}.un-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bg-info{background-color:#eee}.bg-success{background-color:#67c23a}.bg-warning{background-color:#e6a23c}.bg-danger{background-color:#f56c6c}.img-responsive{display:inline-block;height:auto;max-width:100%}.width-100{width:100px}.width-120{width:120px}.width-150{width:150px}.width-160{width:160px}.width-180{width:180px}.width-200{width:200px}.width-230{width:230px}.margin-0{margin:0}.padding-0{padding:0}.font-size-16{font-size:16px}.font-weight-b{font-weight:700}.cursor-pointer{cursor:pointer}.elPag{width:100%;text-align:center}.elPag .el-pagination{display:inline-block}.elPag .PagGo{padding:5px!important;position:relative;top:6px}#monthSum{width:100%}#monthSum .leftData{padding:20px}#monthSum .leftData .sumTop .el-select{width:20%}#monthSum .chart{width:100%;height:400px}',""])},1252:function(t,e,a){var n=a(1196);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(960)("81b26d7a",n,!0)},1378:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{id:"monthSum"}},[a("el-col",{staticClass:"leftData",attrs:{span:16}},[a("div",{staticClass:"FA-warpper"},[a("el-form",{ref:"renewForm",staticClass:"clear sumTop",attrs:{model:t.SumTop,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"统计月份"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:t.yearMonth,callback:function(e){t.yearMonth=e},expression:"yearMonth"}}),t._v(" "),a("el-select",{attrs:{placeholder:"请选择续费单位"},on:{change:function(e){t.getTableList()}},model:{value:t.SumTop.sumState,callback:function(e){t.$set(t.SumTop,"sumState",e)},expression:"SumTop.sumState"}},[a("el-option",{attrs:{label:"按金额统计",value:0}}),t._v(" "),a("el-option",{attrs:{label:"按支付笔数统计",value:1}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getTableList()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.exportChardeDataMonth()}}},[t._v("导出")])],1)],1),t._v(" "),"0"==this.SumTop.sumState?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:t.array,"header-cell-style":{"text-align":"center"},"show-summary":"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"dateStr",label:"日期",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"electronicFree",label:"电子优惠(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paperFree",label:"纸质优惠(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otherFree",label:"其他优惠(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cashPay",label:"现金支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weChatPay",label:"微信支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"aliPay",label:"支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"aliPay",label:"支付宝支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"smallPay",label:"小猫支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otherPay",label:"其他支付(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sumDiscountedPay",label:"实收(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sumTotalPay",label:"应收(元)",align:"center"}})],1):a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:t.arrayNums,"header-cell-style":{"text-align":"center"},"show-summary":"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"dateStr",label:"日期",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"noNeedPayNum",label:"无需支付(笔)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cashPayNum",label:"现金支付(笔)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weChatPayNum",label:"微信支付(笔)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"smallPayNum",label:"小猫支付(笔)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otherPayNum",label:"其他支付(笔)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalNum",label:"总数(笔)",align:"center"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:8}})],1)},staticRenderFns:[]}},436:function(t,e,a){a(1252);var n=a(37)(a(1149),a(1378),null,null);t.exports=n.exports}});