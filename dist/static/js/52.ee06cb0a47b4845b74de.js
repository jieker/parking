webpackJsonp([52],{1145:function(t,d,a){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var e=a(389),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=(a(107),a(92));d.default={data:function(){var t=this;return{listLoading:!1,pageSize:10,dataTotal:0,currentPage:1,searchType:"商家名称",searchValue:"",startTime:new Date(new Date((new Date).toLocaleDateString()).getTime()),endTime:new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1),pickerOptionsStart:{disabledDate:function(d){var a=t.endTime;if(a)return d.getTime()>new Date(a).getTime()}},pickerOptionsEnd:{disabledDate:function(d){var a=t.startTime;if(a)return d.getTime()<new Date(a).getTime()}},array:[],countArray:[],addVisible:!1,editTitle:"新增",formData:{couponName:"",merchantName:"",couponType:"1",couponValue:"",couponMoney:1,couponTime:30,couponFree:"",remark:""},formDataRules:{couponName:[{required:!0,message:"请输入优惠券名称",trigger:"blur"}],merchantName:[{required:!0,message:"请输入发放商家",trigger:"blur"}]}}},mounted:function(){this.getTableList(!0)},methods:{openEditDialog:function(){this.addVisible=!0,this.getCountList()},find:function(){var t=this.startTime,d=this.endTime;null===this.startTime||null===this.endTime?this.$message({message:"开始时间或结束时间不能为空",type:"warning"}):this.startTime&&this.endTime&&(t.getTime()<d.getTime()?this.getTableList():t.getTime()===d.getTime()?this.getTableList():this.$message({message:"开始时间大于结束时间",type:"warning"}))},getTableList:function(t){var d,a=this;t&&(this.currentPage=1);var e=(d={beginDate:"",endDate:"",operatorName:"",merchantName:"",orderId:"",current:this.currentPage-1,length:this.pageSize},(0,i.default)(d,"beginDate",this.Util.formatDate.format(this.startTime,"yyyy-MM-dd hh:mm:ss")),(0,i.default)(d,"endDate",this.Util.formatDate.format(this.endTime,"yyyy-MM-dd hh:mm:ss")),d);"商家名称"===this.searchType?e.merchantName=this.searchValue:"操作员"===this.searchType?e.operatorName=this.searchValue:"订单号"===this.searchType&&(e.orderId=this.searchValue),(0,o.getCouponUsedList)(e).then(function(t){"SUCCESS"===t.data.code?(a.array=t.data.data,a.dataTotal=t.data.totalCount):a.$message.error(t.data.msg)})},getCountList:function(){var t=this;(0,o.getCouponUsedCount)().then(function(d){"SUCCESS"===d.data.code?t.countArray=d.data.data:t.$message.error(d.data.msg)})},handleSizeChange:function(t){this.pageSize=t,this.getTableList(!1)},handleCurrentChange:function(t){this.getTableList(!1)}}}},1220:function(t,d,a){d=t.exports=a(959)(),d.push([t.i,'\n/*! normalize.css v1.1.2 | MIT License | git.io/normalize */article[data-v-90dd3d5c],aside[data-v-90dd3d5c],details[data-v-90dd3d5c],figcaption[data-v-90dd3d5c],figure[data-v-90dd3d5c],footer[data-v-90dd3d5c],header[data-v-90dd3d5c],hgroup[data-v-90dd3d5c],main[data-v-90dd3d5c],nav[data-v-90dd3d5c],section[data-v-90dd3d5c],summary[data-v-90dd3d5c]{display:block}audio[data-v-90dd3d5c],canvas[data-v-90dd3d5c],video[data-v-90dd3d5c]{display:inline-block;*display:inline;*zoom:1}audio[data-v-90dd3d5c]:not([controls]){display:none;height:0}[hidden][data-v-90dd3d5c]{display:none}html[data-v-90dd3d5c]{font-size:100%;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}button[data-v-90dd3d5c],html[data-v-90dd3d5c],input[data-v-90dd3d5c],select[data-v-90dd3d5c],textarea[data-v-90dd3d5c]{font-family:sans-serif}body[data-v-90dd3d5c]{margin:0}a[data-v-90dd3d5c]{text-decoration:none}a[data-v-90dd3d5c]:focus{outline:thin dotted}a[data-v-90dd3d5c]:active,a[data-v-90dd3d5c]:hover{outline:0}h1[data-v-90dd3d5c]{font-size:2em;margin:.67em 0}h2[data-v-90dd3d5c]{font-size:1.5em;margin:.83em 0}h3[data-v-90dd3d5c]{font-size:1.17em;margin:1em 0}h4[data-v-90dd3d5c]{font-size:1em;margin:1.33em 0}h5[data-v-90dd3d5c]{font-size:.83em;margin:1.67em 0}h6[data-v-90dd3d5c]{font-size:.67em;margin:2.33em 0}abbr[title][data-v-90dd3d5c]{border-bottom:1px dotted}b[data-v-90dd3d5c],strong[data-v-90dd3d5c]{font-weight:700}blockquote[data-v-90dd3d5c]{margin:1em 40px}dfn[data-v-90dd3d5c]{font-style:italic}hr[data-v-90dd3d5c]{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark[data-v-90dd3d5c]{background:#ff0;color:#000}p[data-v-90dd3d5c],pre[data-v-90dd3d5c]{margin:1em 0}code[data-v-90dd3d5c],kbd[data-v-90dd3d5c],pre[data-v-90dd3d5c],samp[data-v-90dd3d5c]{font-family:monospace,serif;_font-family:courier new,monospace;font-size:1em}pre[data-v-90dd3d5c]{white-space:pre;white-space:pre-wrap;word-wrap:break-word}q[data-v-90dd3d5c]{quotes:none}q[data-v-90dd3d5c]:after,q[data-v-90dd3d5c]:before{content:"";content:none}small[data-v-90dd3d5c]{font-size:80%}sub[data-v-90dd3d5c],sup[data-v-90dd3d5c]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup[data-v-90dd3d5c]{top:-.5em}sub[data-v-90dd3d5c]{bottom:-.25em}dl[data-v-90dd3d5c],menu[data-v-90dd3d5c],ol[data-v-90dd3d5c],ul[data-v-90dd3d5c]{margin:1em 0}dd[data-v-90dd3d5c]{margin:0 0 0 40px}menu[data-v-90dd3d5c],ol[data-v-90dd3d5c],ul[data-v-90dd3d5c]{padding:0 0 0 40px}nav ol[data-v-90dd3d5c],nav ul[data-v-90dd3d5c]{list-style:none;list-style-image:none}img[data-v-90dd3d5c]{border:0;-ms-interpolation-mode:bicubic;display:block}svg[data-v-90dd3d5c]:not(:root){overflow:hidden}figure[data-v-90dd3d5c],form[data-v-90dd3d5c]{margin:0}fieldset[data-v-90dd3d5c]{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend[data-v-90dd3d5c]{border:0;padding:0;white-space:normal;*margin-left:-7px}button[data-v-90dd3d5c],input[data-v-90dd3d5c],select[data-v-90dd3d5c],textarea[data-v-90dd3d5c]{font-size:100%;margin:0;vertical-align:baseline;*vertical-align:middle}button[data-v-90dd3d5c],input[data-v-90dd3d5c]{line-height:normal}button[data-v-90dd3d5c],select[data-v-90dd3d5c]{text-transform:none}button[data-v-90dd3d5c],html input[type=button][data-v-90dd3d5c],input[type=reset][data-v-90dd3d5c],input[type=submit][data-v-90dd3d5c]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button[disabled][data-v-90dd3d5c],html input[disabled][data-v-90dd3d5c]{cursor:default}input[type=checkbox][data-v-90dd3d5c],input[type=radio][data-v-90dd3d5c]{box-sizing:border-box;padding:0;*height:13px;*width:13px}input[type=search][data-v-90dd3d5c]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search][data-v-90dd3d5c]::-webkit-search-cancel-button,input[type=search][data-v-90dd3d5c]::-webkit-search-decoration{-webkit-appearance:none}button[data-v-90dd3d5c]::-moz-focus-inner,input[data-v-90dd3d5c]::-moz-focus-inner{border:0;padding:0}textarea[data-v-90dd3d5c]{overflow:auto;vertical-align:top}table[data-v-90dd3d5c]{border-collapse:collapse;border-spacing:0}.float-left[data-v-90dd3d5c]{float:left}.float-right[data-v-90dd3d5c]{float:right}.clearfix[data-v-90dd3d5c]:after{content:".";display:block;height:0;clear:both;visibility:hidden}.clearfix[data-v-90dd3d5c]{zoom:1}.text-center[data-v-90dd3d5c]{text-align:center}.text-left[data-v-90dd3d5c]{text-align:left}.text-right[data-v-90dd3d5c]{text-align:right}.text-justify[data-v-90dd3d5c]{text-align:justify}.text-info[data-v-90dd3d5c]{color:#909399}.text-success[data-v-90dd3d5c]{color:#67c23a}.text-warning[data-v-90dd3d5c]{color:#e6a23c}.text-danger[data-v-90dd3d5c]{color:#f56c6c}.text-blue[data-v-90dd3d5c]{color:#20a0ff}.text-orange[data-v-90dd3d5c]{color:#fc813b}.text-white[data-v-90dd3d5c]{color:#fff}.un-select[data-v-90dd3d5c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bg-info[data-v-90dd3d5c]{background-color:#eee}.bg-success[data-v-90dd3d5c]{background-color:#67c23a}.bg-warning[data-v-90dd3d5c]{background-color:#e6a23c}.bg-danger[data-v-90dd3d5c]{background-color:#f56c6c}.img-responsive[data-v-90dd3d5c]{display:inline-block;height:auto;max-width:100%}.width-100[data-v-90dd3d5c]{width:100px}.width-120[data-v-90dd3d5c]{width:120px}.width-150[data-v-90dd3d5c]{width:150px}.width-160[data-v-90dd3d5c]{width:160px}.width-180[data-v-90dd3d5c]{width:180px}.width-200[data-v-90dd3d5c]{width:200px}.width-230[data-v-90dd3d5c]{width:230px}.margin-0[data-v-90dd3d5c]{margin:0}.padding-0[data-v-90dd3d5c]{padding:0}.font-size-16[data-v-90dd3d5c]{font-size:16px}.font-weight-b[data-v-90dd3d5c]{font-weight:700}.cursor-pointer[data-v-90dd3d5c]{cursor:pointer}.elPag[data-v-90dd3d5c]{width:100%;text-align:center}.elPag .el-pagination[data-v-90dd3d5c]{display:inline-block}.elPag .PagGo[data-v-90dd3d5c]{padding:5px!important;position:relative;top:6px}.content[data-v-90dd3d5c]{background:#eee;border-radius:10px}.content .content-body[data-v-90dd3d5c]{padding:0 10px}.content .content-body .body-top[data-v-90dd3d5c]{padding:10px 0}.content .content-body .body-top .body-top-left[data-v-90dd3d5c]{float:left;width:79%}.content .content-body .body-top .body-top-right[data-v-90dd3d5c]{float:right;width:19%}.content .content-body .body-paging[data-v-90dd3d5c]{padding:20px 0}.form-dialog .dialog-box[data-v-90dd3d5c]{border-top:1px solid #ebeef5;border-left:1px solid #ebeef5;border-right:1px solid #ebeef5}',""])},1276:function(t,d,a){var e=a(1220);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a(960)("3dde70c5",e,!0)},1402:function(t,d){t.exports={render:function(){var t=this,d=t.$createElement,a=t._self._c||d;return a("div",[a("el-row",{staticClass:"content"},[a("el-col",{staticClass:"content-body",attrs:{span:24}},[a("div",{staticClass:"body-top clearfix"},[a("div",{staticClass:"body-top-left"},[a("span",[t._v("开始时间：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入查询时间","picker-options":t.pickerOptionsStart},model:{value:t.startTime,callback:function(d){t.startTime=d},expression:"startTime"}}),t._v(" "),a("span",[t._v("结束时间：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入查询时间","picker-options":t.pickerOptionsEnd},model:{value:t.endTime,callback:function(d){t.endTime=d},expression:"endTime"}}),t._v(" "),a("el-select",{staticClass:"width-120",attrs:{placeholder:"请选择"},on:{change:function(d){t.searchValue=""}},model:{value:t.searchType,callback:function(d){t.searchType=d},expression:"searchType"}},[a("el-option",{attrs:{label:"订单号",value:"订单号"}}),t._v(" "),a("el-option",{attrs:{label:"商家名称",value:"商家名称"}}),t._v(" "),a("el-option",{attrs:{label:"操作员",value:"操作员"}})],1),t._v(" "),a("el-input",{staticClass:"width-180",attrs:{placeholder:"请输入查询关键字",clearable:""},model:{value:t.searchValue,callback:function(d){t.searchValue="string"==typeof d?d.trim():d},expression:"searchValue"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(d){t.find()}}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"body-top-right text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(d){t.openEditDialog()}}},[t._v("汇总")])],1)]),t._v(" "),a("div",{staticClass:"body-table",attrs:{id:"printContent"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.array,height:"539"}},[a("el-table-column",{attrs:{type:"index","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"carNum",label:"车牌号","min-width":"80",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_id",label:"订单号","min-width":"120",sortable:"","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"merchantName",label:"发放商家","min-width":"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponName",label:"优惠券名称","min-width":"120",sortable:"","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponType",label:"优惠券类型","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(d){return[a("span",[t._v(t._s(t._f("transformCouponType")(d.row.couponType)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"actualValue",label:"实际金额","min-width":"90",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"使用时间","min-width":"120",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(d){return[a("span",[t._v(t._s(t._f("transformTime")(d.row.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作员","min-width":"100",sortable:"","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注","min-width":"110",sortable:"","show-overflow-tooltip":""}})],1)],1),t._v(" "),a("div",{staticClass:"body-paging text-center elPag"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,sizes,prev, pager, next, jumper",total:t.dataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(d){t.currentPage=d}}}),t._v(" "),a("el-button",{staticClass:"PagGo",attrs:{type:"primary"}},[t._v("GO")])],1)])],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{title:"汇总",width:"50%",visible:t.addVisible,"close-on-click-modal":!1},on:{"update:visible":function(d){t.addVisible=d}}},[a("div",{staticClass:"dialog-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:"countArrayTable",attrs:{data:t.countArray,"show-summary":""}},[a("el-table-column",{attrs:{prop:"couponName",label:"优惠券名称","min-width":"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalUse",label:"使用张数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalValue",label:"总金额","min-width":"110"}})],1)],1)])],1)},staticRenderFns:[]}},430:function(t,d,a){a(1276);var e=a(37)(a(1145),a(1402),"data-v-90dd3d5c",null);t.exports=e.exports}});